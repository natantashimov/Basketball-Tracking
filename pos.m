pos = [1203.73148148148	380.305555555556
1204.16000000000	380.896000000000
1173.91417910448	449.947761194030
1171.91459074733	446.640569395018
1171.63133640553	442.986175115207
1175.96951219512	443.823170731707
1176.21973094170	440.702541106129
1173.85814606742	435.664325842697
1171.63296398892	428.810249307479
1165.15467625899	400.838129496403
1160.88102893891	390.279742765273
1156.41578148710	372.015174506829
1152.60000000000	363.480503144654
1150.08944954128	355.615825688073
1146.82590233546	346.524416135881
1143.10808270677	338.370300751880
1126.66494845361	322.721649484536
1120.48036649215	313.037958115183
1116.23484848485	306.878787878788
1114.28855721393	303.854477611940
1112.07142857143	301.063909774436
1110.00249687890	298.183520599251
1107.91071428571	295.596938775510
1106.07180156658	292.590078328982
1103.96740547588	289.586701434159
1101.83225806452	286.536774193548
1099.82812500000	283.667968750000
1097.68187744459	280.904823989570
1095.57273918742	278.133682830931
1093.39421813403	275.345597897503
1091.14640522876	272.813071895425
1089.12793733681	270.372062663185
1087.15032679739	267.800000000000
1085.20849933599	265.381142098274
1083.06728232190	262.684696569921
1080.90596026490	260.092715231788
1078.80000000000	257.609523809524
1076.75204359673	255.065395095368
1074.61527777778	252.916666666667
1072.52732240437	250.113387978142
1070.43034482759	247.704827586207
1068.46638655462	245.428571428571
1066.26944444444	242.718055555556
1064.25206611570	240.151515151515
1062.28010825440	237.618403247632
1060.24071526823	235.276478679505
1058.16115702479	232.998622589532
1056.39024390244	230.315718157182
1054.16621253406	228.053133514986
1052.09752747253	225.715659340659
1050.15875169607	223.244233378562
1048.07837837838	221.021621621622
1046.08126721763	218.833333333333
1044.12483221477	216.542281879195
1042	214.232746955345
1039.97018970190	211.962059620596
1037.94289508632	209.936254980080
1035.91756756757	207.808108108108
1033.79411764706	205.602941176471
1032.05740987984	203.476635514019
1029.77406417112	201.799465240642
1027.71467025572	199.523553162853
1025.88085676037	197.800535475234
1023.91520861373	195.761776581427
1022	193.955284552846
1020.27160493827	191.994513031550
1018.89580318379	190.257597684515
1017.73524720893	188.720893141946
1016.96188747731	187.159709618875
1016.18181818182	185.822510822511
1015.31873479319	183.861313868613
1014.46525679758	182.619335347432
995.878048780488	182.560975609756
994.576388888889	181.562500000000
993.211180124224	180.863354037267
992.005617977528	179.511235955056
990.838541666667	178.406250000000
989.630331753555	177.218009478673
988.042918454936	175.141630901288
986.522448979592	173.640816326531
985.231660231660	172.258687258687
983.737037037037	170.711111111111
982.378091872792	169.254416961131
980.458041958042	167.594405594406
979.043771043771	166.144781144781
977.059405940594	164.481848184819
975.495081967213	163.016393442623
973.343042071197	161.469255663430
971.166666666667	160.115384615385
969.722054380665	158.329305135952
968.020289855073	156.739130434783
966.283582089552	155.402985074627
964.465517241379	153.899425287356
962.179775280899	152.502808988764
960.207865168539	151.134831460674
958.435261707989	149.752066115703
956.340482573727	147.935656836461
954.376000000000	146.712000000000
952.479057591623	145.596858638743
950.545454545455	143.808080808081
948.643589743590	142.797435897436
947.005181347150	141.715025906736
944.586633663366	140.326732673267
941.882352941177	139.519181585678
940.041775456919	138.548302872063
938.124681933842	137.430025445293
936.197500000000	136.100000000000
934.384039900249	135.234413965087
932.704714640199	134.359801488834
930.538265306122	133.663265306122
928.290556900726	132.029055690073
926.478571428571	131.054761904762
924.658018867925	130.426886792453
922.941888619855	129.779661016949
921.185096153846	129.050480769231
919.009615384615	128.033653846154
917.251219512195	127.529268292683
915.510526315789	127.218421052632
913.837150127226	126.083969465649
911.715025906736	125.401554404145
909.990291262136	124.456310679612
908.238213399504	123.806451612903
906.884910485934	123.345268542199
905.529850746269	122.480099502488
902.924050632911	122.151898734177
901.119437939110	120.836065573771
899.562945368171	120.320665083135
897.752941176471	119.724705882353
896.024774774775	118.765765765766
893.984340044743	118.031319910515
892.234090909091	117.479545454545
890.253829321663	116.579868708972
888.185344827586	115.711206896552
886.206666666667	115.677777777778
884.776315789474	115.028508771930
882.549889135255	114.789356984479
880.765237020316	114.320541760722
878.872611464968	113.696390658174
877.110878661088	113.050209205021
875.519668737060	112.819875776398
873.606765327696	112.670190274841
871.859504132232	112.041322314050
869.887573964497	111.465483234714
867.909090909091	111.339920948617
866.080482897384	111.348088531187
864.253521126761	110.818913480885
862.529774127310	110.979466119097
860.947686116700	110.712273641851
859.116700201207	110.937625754527
857.001984126984	110.444444444444
855.131687242798	110.792181069959
853.288888888889	110.725252525253
851.343035343035	110.873180873181
849.537500000000	110.552083333333
847.681818181818	110.454545454545
845.501030927835	110.387628865979
843.423799582464	110.555323590814
841.806517311609	110.366598778004
839.676171079430	110.295315682281
837.676706827309	110.287148594378
835.438631790745	110.438631790744
833.774847870183	110.513184584179
831.970355731225	110.385375494071
830.222879684418	110.323471400394
828.347222222222	110.509920634921
826.538310412574	110.385068762279
825.023809523810	110.958333333333
823.444214876033	111.336776859504
822.333333333333	111.784313725490
821.026252983294	112.964200477327
819.215000000000	113.622500000000
817.225130890052	113.965968586387
815.518134715026	114.225388601036
813.145780051151	114.759590792839
811.320099255583	114.411910669975
809.210106382979	115.680851063830
806.784741144414	116.463215258856
804.449856733524	117.621776504298
801.557575757576	118.933333333333
800.353424657534	118.756164383562
799.058673469388	118.844387755102
796.951100244499	119.122249388753
794.949308755760	118.990783410138
792.957589285714	119.263392857143
790.878980891720	119.335456475584
788.386317907445	119.456740442656
786.546992481203	119.372180451128
784.600700525394	119.390542907180
782.825944170772	119.637110016420
780.930124223602	119.675465838509
779.436201780415	119.891691394659
777.734636871508	120.057262569832
775.937753721245	120.407307171854
774.330238726790	120.765251989390
772.377113133940	121.570871261378
770.868117797695	122.240717029449
768.859514687101	123.008939974457
767.201530612245	123.926020408163
765.239436619718	124.816901408451
763.622950819672	125.896595208071
761.659466327827	126.588310038119
759.697236180905	127.511306532663
757.949367088608	128.230379746835
756.212468193384	129.323155216285
754.243412797993	130.284818067754
752.353767560664	131.353767560664
750.641866330391	132.446406052963
748.820577164366	133.479297365119
746.806775407779	134.599749058971
745.010088272383	135.677175283733
743.248750000000	136.737500000000
741.285000000000	137.666250000000
739.602977667494	138.826302729529
737.704545454546	140.056818181818
735.835633626098	141.303638644918
733.976397515528	142.414906832298
732.060945273632	143.756218905473
730.187112763321	144.820322180917
728.431930693069	146.099009900990
726.650436953808	147.454431960050
724.675742574258	148.861386138614
722.913366336634	150.073019801980
721.067985166873	151.499381953028
719.244084682441	152.904109589041
717.521039603960	154.158415841584
715.698630136986	155.651307596513
713.797794117647	157.040441176471
711.847014925373	158.449004975124
709.998760842627	159.874845105328
708.429104477612	161.582089552239
706.137157107232	163.226932668329
704.500000000000	164.774314214464
702.795255930087	166.188514357054
701.009950248756	167.898009950249
699.278810408922	169.547707558860
697.431396786156	171.035846724351
695.660912453761	172.794081381011
693.913899138991	174.551045510455
692.043263288010	176.139678615575
690.261239368165	177.876063183475
688.305043050431	179.624846248463
686.674968866750	181.333748443338
684.656479217604	183.024449877751
682.948529411765	184.851715686275
681.166056166056	186.655677655678
679.288009888752	188.485784919654
677.481028151775	190.374541003672
675.679151061174	192.270911360799
673.956683168317	193.997524752475
671.990135635019	195.916152897657
670.354957160343	197.712362301102
668.401234567901	199.708641975309
666.585995085995	201.536855036855
664.691646191646	203.433660933661
663.033834586466	205.389724310777
661.397877984085	206.676392572944
660.271551724138	207.837643678161
658.972929936306	208.813694267516
657.679104477612	209.705223880597
656.241150442478	210.115044247788
647.400000000000	224.431578947368
648.523659305994	225.892744479495
646.338888888889	226.141666666667
644.184538653367	226.301745635910
637.849420849421	225.710424710425
636.623824451411	226.401253918495
636.705382436261	227.501416430595
636.100543478261	227.942934782609
637.570765661253	227.946635730858
636.277777777778	227.739898989899
626.789115646259	240.598639455782
625.577114427861	241.950248756219
624.678294573643	243.174418604651
623.179566563468	243.616099071207
621.757105943153	244.532299741602
621.472772277228	245.074257425743
620.598669623060	246.206208425721
619.677042801557	247.108949416342
619.726377952756	247.488188976378
618.851428571429	247.283809523810
617.380670611440	246.802761341223
614.635434412266	244.930153321976
603.041095890411	249.054794520548
602.430769230769	249.976923076923
602.450704225352	249.883802816901
601.974063400576	248.291066282421
613.682008368201	254.224895397490
613.466804979253	253.949170124481
600.486910994764	246.709424083770
599.765789473684	245.465789473684
599.263305322129	244.675070028011
613.687435098650	253.388369678089
597.927953890490	243.391930835735
597.616564417178	242.929447852761
597.424242424242	242.751515151515
597.694767441860	242.654069767442
597.669540229885	242.658045977011
597.975000000000	243.711111111111
597.912676056338	243.712676056338
598.603015075377	242.788944723618
598.605839416058	242.547445255474
598.644768856448	242.776155717762
598.635922330097	242.961165048544
598.123359580053	244.244094488189
598.215223097113	244.713910761155
598.186700767264	244.237851662404
598.313471502591	244.559585492228
598.375321336761	244.694087403599
598.393401015228	244.715736040609
598.508816120907	244.821158690176
598.530927835052	245.146907216495
598.648989898990	245.191919191919
598.578947368421	245.671052631579
598.848101265823	245.858227848101
599.035971223022	245.335731414868
598.908641975309	245.565432098765
599.157766990291	245.662621359223
599.356009070295	245.340136054422
599.424657534247	245.424657534247
599.534090909091	245.765909090909
599.704035874440	245.986547085202
599.939866369710	246.149220489978
600.035634743875	246.338530066815
600.269406392694	246.550228310502
600.248259860789	246.890951276102
600.278688524590	247.295081967213
612.352027610009	258.150129421915
600.674816625917	248.041564792176
600.730392156863	248.026960784314
600.753117206983	248.321695760599
600.942211055276	248.444723618090
601.059278350516	248.855670103093
601.087179487180	248.961538461538
601.478260869565	249.573369565217
601.689373297003	250.125340599455
601.962857142857	250.454285714286
602.011461318052	250.893982808023
602.231671554252	251.202346041056
602.629080118694	251.572700296736
602.798192771084	251.819277108434
602.957055214724	251.840490797546
603.241590214067	251.862385321101
603.475000000000	252.175000000000
603.736507936508	252.142857142857
604.101910828025	252.522292993631
605.435344827586	257.646551724138
605.816964285714	257.937500000000
606.528205128205	258.712820512821
615.658195679797	287.693773824651
619.389240506329	288.107594936709
617.914183551848	296.283671036949
618.693586698337	303.313539192399
619.935064935065	312.931523022432
621.446280991736	326.528925619835
622.849704142012	341.762130177515
624.468160377359	358.358490566038
626.778907242694	375.740787801779
626.403985507246	399.552536231884
619.624060150376	266.571428571429
619.373015873016	266.682539682540
618.722222222222	266.250000000000
304.701923076923	907.778846153846
303.405940594059	927.722772277228
633.691780821918	552.513698630137
632.575342465754	581.267123287671
523.671497584541	864.394524959742
305.656330749354	194.710594315246
315.577586206897	203.112068965517];


figure();
scatter( pos(1:280,1), pos(1:280,2));
axis ij;
%%
sParams.sampPrecet = 1;
sParams.R = 0.1205;
sParams.weight = 0.6;
sParams.BallInitial_Y = 1.8;
sParams.BallInitial_X = 0;
g = -9.813; % [m/sec^2], gravity constant
sParams.g = g;
dt_C = 1/50;
sParams.dt_C = dt_C;
sigma_x = 0.1; % [m], mean of daviation noise in the x axis
sParams.sigma_x = sigma_x;
sigma_y = 0.1; % [m], mean of daviation noise in the y axis
sParams.sigma_y = sigma_y;
sParams.sigma_w_EKF = 200; % process noise std
sParams.Pcov = 100; % initial state noise variance
dragCoeff = 0.47; % for a sphere
sParams.dragCoeff = dragCoeff;
crossSection = pi*sParams.R^2; % for a sphere
sParams.crossSection = crossSection;
rho = 1.225; % [kg/m^3] mass density of air
sParams.rho = rho;

s = EKF_Auxilary(pos(1:280,2),pos(1:280,1),sParams);




